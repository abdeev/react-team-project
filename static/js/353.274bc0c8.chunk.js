"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[353],{3353:function(t,a,e){e.r(a),e.d(a,{default:function(){return K}});var s=e(885),i=e(2791),l=e(6305),c=e(9683),r=e(9434),n=function(t){return t.statistics.statisticsTransactions.categoriesSummary},_=function(t){return t.statistics.statisticsTransactions.incomeSummary},u=function(t){return t.statistics.statisticsTransactions.expenseSummary},o=function(t){return t.statistics.statisticsTransactions.periodTotal},d=function(t){return t.statistics.isLoading},m={diagram_container:"StatisticsDiagram_diagram_container__5AaYO",diagram_text:"StatisticsDiagram_diagram_text__2boqF"},h=e(3329);l.kL.register(l.qi,l.u,l.De);var b={cutout:"70%",plugins:{legend:{display:!1}}},f=function(t){var a=t.diagram,e=(0,r.v9)(o);return(0,h.jsxs)("div",{className:m.diagram_container,children:[(0,h.jsxs)("p",{className:m.diagram_text,children:[" \u20b4 ",e]}),(0,h.jsx)("div",{className:m.diagram_box,children:(0,h.jsx)(c.$I,{options:b,data:a})})]})},v=e(6694),x=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],g=e(2343),j={stats_form:"StatisticsForm_stats_form__zk9oG","select-container":"StatisticsForm_select-container__JplRG"},S=function(t){var a=t.years,e=(0,i.useState)(""),l=(0,s.Z)(e,2),c=l[0],n=l[1],_=(0,i.useState)(""),u=(0,s.Z)(_,2),o=u[0],d=u[1],m=(0,r.I0)();return(0,i.useEffect)((function(){(c.length||o.length)&&m((0,g.H)({electMonth:c,electYear:o}))}),[c,o,m]),(0,h.jsxs)("form",{className:j.stats_form,action:"submit",children:[(0,h.jsx)("div",{classmonth:j.select__block,children:(0,h.jsx)(v.Z,{classNamePrefix:"statistics-select",name:"month",defaultInputValue:c,options:x,placeholder:"Month",captureMenuScroll:!0,onChange:function(t){return n(t.value)}})}),(0,h.jsx)("div",{classmonth:j.select__block,children:(0,h.jsx)(v.Z,{classNamePrefix:"statistics-select",name:"years",defaultInputValue:o,options:a,placeholder:"Years",captureMenuScroll:!0,onChange:function(t){return d(t.value)}})})]})},p=e(5984),N=e(2180),T="StatisticsTable_Table__bFXHp",y="StatisticsTable_table__th__left__NsM9g",k="StatisticsTable_table__th__right__pC+Jt",w="StatisticsTable_table__head__falKK",C="StatisticsTable_table__tr__x89ML",D="StatisticsTable_table__td__right__opMzp",M="StatisticsTable_table__container__uARwy",Z="StatisticsTable_table__chategory__Us2dc",A="StatisticsTable_table__tr__summary__m2mwn",I="StatisticsTable_table__td__summary__I8O3H",R="StatisticsTable_table__red__value__kwSKd",E="StatisticsTable_table__green__value__CL1lg",F=function(t){var a=t.tableData,e=(0,r.v9)(u),s=(0,r.v9)(_),i=(0,r.v9)(d);return(0,h.jsx)("table",{className:T,children:(0,h.jsxs)("tbody",{children:[(0,h.jsxs)("tr",{className:w,children:[(0,h.jsx)("th",{className:y,children:"Category"}),(0,h.jsx)("th",{className:k,children:"Sum"})]}),a.map((function(t){return(0,h.jsxs)("tr",{className:C,children:[(0,h.jsxs)("td",{className:M,children:[i?(0,h.jsx)(N.BR,{type:"Puff",color:t.backgroundColor,height:25,width:25,timeout:3e3}):(0,h.jsx)("div",{style:{backgroundColor:t.backgroundColor,width:25,height:25}}),(0,h.jsx)("div",{className:Z,children:t.name})]}),(0,h.jsx)("td",{className:D,children:t.total})]},(0,p.x0)())})),(0,h.jsxs)("tr",{className:A,children:[(0,h.jsx)("td",{className:I,children:"Expenses:"}),(0,h.jsx)("td",{className:R,children:e})]}),(0,h.jsxs)("tr",{className:A,children:[(0,h.jsx)("td",{className:I,children:"Income:"}),(0,h.jsx)("td",{className:E,children:s})]})]})})},J=e(9848),P="StatisticsDiagramAndTable_statistics__block__form__2BYRb",H="StatisticsDiagramAndTable_statistics__block__XvRsN",L="StatisticsDiagramAndTable_statistics_warning_text__kqgih",Y=e(3437),q=function(){var t=(0,i.useState)(null),a=(0,s.Z)(t,2),e=a[0],l=a[1],c=(0,i.useState)(null),_=(0,s.Z)(c,2),u=_[0],o=_[1],m=(0,i.useState)(null),b=(0,s.Z)(m,2),v=b[0],x=b[1],g=(0,r.v9)(n),j=(0,r.v9)(d),p=(0,r.v9)(Y.ig);return(0,i.useEffect)((function(){if(g.length||(l(null),o([])),g.length){var t=(0,J.Z)(g);l(t.diagram),o(t.table)}}),[g]),(0,i.useEffect)((function(){if(p.length){var t=function(t){return t.reduce((function(t,a){var e=a.transactionDate.split("-")[0],s=t.filter((function(t){return t.value===e}));return s.length||t.push({value:e,label:e}),t}),[]).sort((function(t,a){return t.value-a.value}))}(p);x(t)}}),[p]),(0,h.jsxs)("div",{className:H,children:[(0,h.jsx)("div",{children:j?(0,h.jsx)(N.BR,{type:"Puff",color:"var(--icon-active-color)",height:300,width:300,timeout:3e3}):e?(0,h.jsx)(f,{diagram:e}):(0,h.jsx)("h2",{className:L,children:"There is no information for this term !"})}),(0,h.jsxs)("div",{className:P,children:[v&&(0,h.jsx)(S,{years:v}),u&&(0,h.jsx)(F,{tableData:u})]})]})},B={statistics__title:"StatisticsPage_statistics__title__f0enk"},K=function(){var t=(0,r.I0)();return(0,i.useEffect)((function(){t((0,g.H)())}),[]),(0,h.jsxs)("div",{className:B.statistics__container,children:[(0,h.jsx)("h1",{className:B.statistics__title,children:"Statistics"}),(0,h.jsx)(q,{})]})}}}]);
//# sourceMappingURL=353.274bc0c8.chunk.js.map