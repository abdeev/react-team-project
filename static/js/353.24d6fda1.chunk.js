"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[353],{3353:function(t,e,a){a.r(e),a.d(e,{default:function(){return K}});var s=a(885),i=a(2791),l=a(6305),r=a(9683),c={diagram_container:"StatisticsDiagram_diagram_container__5AaYO",diagram_text:"StatisticsDiagram_diagram_text__2boqF"},n=a(9434),_=function(t){return t.statistics.categoriesSummary},u=function(t){return t.statistics.incomeSummary},o=function(t){return t.statistics.expenseSummary},d=function(t){return t.statistics.periodTotal},m=function(t){return t.statistics.isLoading},h=a(3329);l.kL.register(l.qi,l.u,l.De);var b={cutout:"70%",plugins:{legend:{display:!1}}},f=function(t){var e=t.diagram,a=(0,n.v9)(d);return(0,h.jsxs)("div",{className:c.diagram_container,children:[(0,h.jsxs)("p",{className:c.diagram_text,children:[" \u20b4 ",a]}),(0,h.jsx)("div",{className:c.diagram_box,children:(0,h.jsx)(r.$I,{options:b,data:e})})]})},v=a(6694),x={stats_form:"StatisticsForm_stats_form__zk9oG","select-container":"StatisticsForm_select-container__JplRG"},g=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],j=a(2343),S=function(t){var e=t.years,a=(0,i.useState)(""),l=(0,s.Z)(a,2),r=l[0],c=l[1],_=(0,i.useState)(""),u=(0,s.Z)(_,2),o=u[0],d=u[1],m=(0,n.I0)();return(0,i.useEffect)((function(){(r.length||o.length)&&m((0,j.H)({electMonth:r,electYear:o}))}),[r,o,m]),(0,h.jsxs)("form",{className:x.stats_form,action:"submit",children:[(0,h.jsx)("div",{classmonth:x.select__block,children:(0,h.jsx)(v.Z,{classNamePrefix:"statistics-select",name:"month",defaultInputValue:r,options:g,placeholder:"Month",captureMenuScroll:!0,onChange:function(t){return c(t.value)}})}),(0,h.jsx)("div",{classmonth:x.select__block,children:(0,h.jsx)(v.Z,{classNamePrefix:"statistics-select",name:"years",defaultInputValue:o,options:e,placeholder:"Years",captureMenuScroll:!0,onChange:function(t){return d(t.value)}})})]})},p=a(5984),N="StatisticsTable_Table__bFXHp",y="StatisticsTable_table__th__left__NsM9g",k="StatisticsTable_table__th__right__pC+Jt",T="StatisticsTable_table__head__falKK",w="StatisticsTable_table__tr__x89ML",C="StatisticsTable_table__td__right__opMzp",D="StatisticsTable_table__container__uARwy",M="StatisticsTable_table__chategory__Us2dc",Z="StatisticsTable_table__tr__summary__m2mwn",A="StatisticsTable_table__td__summary__I8O3H",I="StatisticsTable_table__red__value__kwSKd",R="StatisticsTable_table__green__value__CL1lg",E=a(2989),F=function(t){var e=t.tableData,a=(0,n.v9)(o),s=(0,n.v9)(u),i=(0,n.v9)(m);return(0,h.jsx)("table",{className:N,children:(0,h.jsxs)("tbody",{children:[(0,h.jsxs)("tr",{className:T,children:[(0,h.jsx)("th",{className:y,children:"Category"}),(0,h.jsx)("th",{className:k,children:"Sum"})]}),e.map((function(t){return(0,h.jsxs)("tr",{className:w,children:[(0,h.jsxs)("td",{className:D,children:[i?(0,h.jsx)(E.BR,{type:"Puff",color:t.backgroundColor,height:25,width:25,timeout:3e3}):(0,h.jsx)("div",{style:{backgroundColor:t.backgroundColor,width:25,height:25}}),(0,h.jsx)("div",{className:M,children:t.name})]}),(0,h.jsx)("td",{className:C,children:t.total})]},(0,p.x0)())})),(0,h.jsxs)("tr",{className:Z,children:[(0,h.jsx)("td",{className:A,children:"Expenses:"}),(0,h.jsx)("td",{className:I,children:a})]}),(0,h.jsxs)("tr",{className:Z,children:[(0,h.jsx)("td",{className:A,children:"Income:"}),(0,h.jsx)("td",{className:R,children:s})]})]})})},J=a(9848),P="StatisticsDiagramAndTable_statistics__block__form__2BYRb",H="StatisticsDiagramAndTable_statistics__block__XvRsN",L="StatisticsDiagramAndTable_statistics_warning_text__kqgih",Y=a(3437),q=function(){var t=(0,i.useState)(null),e=(0,s.Z)(t,2),a=e[0],l=e[1],r=(0,i.useState)(null),c=(0,s.Z)(r,2),u=c[0],o=c[1],d=(0,i.useState)(null),b=(0,s.Z)(d,2),v=b[0],x=b[1],g=(0,n.v9)(_),j=(0,n.v9)(m),p=(0,n.v9)(Y.ig);return(0,i.useEffect)((function(){if(g.length||(l(null),o([])),g.length){var t=(0,J.Z)(g);l(t.diagram),o(t.table)}}),[g]),(0,i.useEffect)((function(){if(p.length){var t=function(t){return t.reduce((function(t,e){var a=e.transactionDate.split("-")[0],s=t.filter((function(t){return t.value===a}));return s.length||t.push({value:a,label:a}),t}),[]).sort((function(t,e){return t.value-e.value}))}(p);x(t)}}),[p]),(0,h.jsxs)("div",{className:H,children:[(0,h.jsx)("div",{children:j?(0,h.jsx)(E.BR,{type:"Puff",color:"var(--icon-active-color)",height:300,width:300,timeout:3e3}):a?(0,h.jsx)(f,{diagram:a}):(0,h.jsx)("h2",{className:L,children:"There is no information for this term !"})}),(0,h.jsxs)("div",{className:P,children:[v&&(0,h.jsx)(S,{years:v}),u&&(0,h.jsx)(F,{tableData:u})]})]})},B={statistics__title:"StatisticsPage_statistics__title__f0enk"},K=function(){var t=(0,n.I0)();return(0,i.useEffect)((function(){t((0,j.H)())}),[]),(0,h.jsxs)("div",{className:B.statistics__container,children:[(0,h.jsx)("h1",{className:B.statistics__title,children:"Statistics"}),(0,h.jsx)(q,{})]})}}}]);
//# sourceMappingURL=353.24d6fda1.chunk.js.map